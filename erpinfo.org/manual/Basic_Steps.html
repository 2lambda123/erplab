<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Basic ERPLAB Processing Steps</title>
<style type="text/css">
<!--
p.paragraph {
margin-top:0in;
margin-right:0in;
margin-bottom:8.0pt;
margin-left:0in;
font-size:11.0pt;
font-family:Cambria;
}
-->
</style>
</head>

<body>
<p class="paragraph">This section provides an outline of the typical sequence of operations for analyzing an ERP experiment using the combination of EEGLAB and ERPLAB.  The details will be found in later sections, but it is useful to have an overview of the whole process.</p>
<p class="paragraph">First, you need to know a key bit of ERPLAB terminology. In some ERP analysis systems, each ERP file contains the data from a single trial type. This can lead to a huge number of files in a complex experiment, so ERPLAB can store many ERPs in a single file. Each ERP is stored in what we call a <em>bin</em>. More precisely, a bin is a set of averaged ERP waveforms, one for each electrode site, which were created by averaging together a specific set of trials.  A simple oddball experiment, for example, might have one bin for the targets and another bin for the standards.  However, a sophisticated experiment might have dozens of different bins.</p>
<p class="paragraph">Here are the typical steps in analyzing an ERP experiment:</p>
<ul>
  <li>Import an EEG file into EEGLAB, where it becomes a dataset. Once you have imported the raw EEG, you should view it with <strong>Plot &gt; Channel data (scroll)</strong> to make sure everything looks OK (noe: this is EEGLAB's plotting routine, not an ERPLAB routine).  The original EEG file can come from one of the many different commercial EEG recording systems supported by EEGLAB (including Neuroscan, EGI, and Biosemi; see the EEGLAB documentation for the supported file types).  Any of the EEGLAB functions that operate on continuous data (e.g., filtering the data, ICA-based artifact correction) can be applied at this point.</li>
  <li>There are several EEGLAB routines that you may wish to run at this point (or after epoching).  For example, if you wish to filter the EEG, you can select <strong>Tools &gt; Filter the data.  </strong>Alternatively you may wish to use ERPLAB's filter routines (using <a href="Filtering.html"><strong>ERPLAB &gt; Filter &amp; Frequency Tools</strong></a>), which we think are better for most conventional ERP applications.  You may also wish to enter electrode location coordinates at this point (which will be useful later for topographic mapping).  This can be accomplished with <strong>Edit &gt; Channel locations</strong>, which allows you to automatically choose standard locations on the basis of the electrode names (or enter custom coordinates).</li>
  <li>Create the <strong>EVENTLIST</strong> structure from the current dataset using <a href="EventList_Create.html"><strong>ERPLAB &gt; EventList &gt; Create EEG EventList</strong></a>. The <strong>EVENTLIST</strong> structure will ordinarily be attached to the <strong>EEG</strong> structure.  It stores information about ERPLAB's event processing and bin assignments. It can also be saved as a text file, allowing you to insert, modify, or delete events and then <a href="EventList_Export_Import.html">import the new events back into the dataset</a>.  At this point, you can assign text labels for each numeric event code (or assign numeric event codes if your datafile contains text labels instead of numeric codes).  You can even assign bins for the events if there is a simple 1:1 mapping between event codes and bins. </li>
  <li>If you need to specify a more complex mapping between events and bins, you will do this using <a href="Binlister.html"><strong>ERPLAB &gt; Assign Bins (BINLISTER)</strong></a>. This involves creating a Bin Descriptor File (BDF), a text file that provides an abstract description of the events that will be averaged together.  For example, you can specify that Bin 3 will consist of targets that were preceded by a nontarget and followed 200-1500 ms later by a left-hand button-press response.  This step can also be configured to extract reaction times, which are saved in the <strong>bdf</strong> field of the <strong>EVENTLIST</strong> structure and can be exported to a text file with <a href="behavioral_analyses.html"><strong>ERPLAB &gt; EventList &gt; Export Reaction Times to Text from EEG</strong></a>.</li>
  <li>Convert the continuous EEG data in the dataset into a set of fixed-length epochs around each event using <a href="Epoching_Bins.html"><strong>ERPLAB &gt; Extract Bin-Based Epochs</strong></a>. (Note that this differs from EEGLAB's <strong>Tools &gt; Extract epochs</strong> function in several ways, so you should not use the EEGLAB epoching function in conjunction with ERPLAB.)  Any of the EEGLAB functions that operate on epoched data can be applied at this point. If you have already used EEGLAB to epoch the data, you will need to re-epoch with ERPLAB before using any of the ERPLAB functions that operate on epoched data.</li>
  <li>Perform <a href="Artifact_Detection.html">artifact detection</a> on the epoched dataset, marking problematic EEG segments so they can be excluded during the averaging process. Prior to artifact detection, you may wish to re-reference the data or create new channels in the dataset (e.g., a bipolar HEOG channel from separate HEOG-left and HEOG-right channels).  This is accomplished with <a href="Channel_Operations.html"><strong>ERPLAB &gt; EEG Channel Operations</strong></a>.  After you have performed artifact detection, you can use <strong>Plot &gt; Channel data (scroll)</strong> to see which epochs have been marked for rejection and to manually mark and unmark specific epochs.  You can, of course, use EEGLAB's ICA-based artifact correction instead of, or in addition to, artifact rejection.  EEGLAB also contains artifact detection routines, which you can use in conjunction with ERPLAB's routines. However, you need to make sure that the EEGLAB and ERPLAB artifact information is kept synchronized, which you can do with the <a href="Artifact_Detection.html#reject_by_inspection">ERPLAB &gt; Artifact detection in epoched data &gt; Synchronize artifact info in EEG and EVENTLIST</a>.</li>
  <li>Average together the epochs that have been assigned to each bin using <a href="Averaging_ERPs.html"><strong>ERPLAB &gt; Compute Averaged ERPs</strong></a><strong>.</strong>  The averaged data are stored in <strong>ERP.bindata </strong>field of the <strong>ERP </strong>structure, which is basically an Electrodes x Time x Bins matrix.  Other fields within the <strong>ERP</strong> structure describe the subject, sampling rate, electrode names, etc.  The new <strong>ERP</strong> structure becomes the current ERPset, and you can save it to disk as a binary file (a &quot;.erp&quot; extension is recommended, but it is really a Matlab &quot;.mat&quot; file).  You can also export this to a text file by using <strong>ERPLAB &gt; Export ERP to Text</strong>.  Note that the <strong>ERP</strong> structure also contains a copy of the <strong>EVENTLIST</strong> structure from the <strong>EEG</strong> structure that was used to provide the data that were averaged together to create the <strong>ERP</strong> structure.  This can be used to perform behavioral analyses that include only the trials included in the averaged ERPs (e.g., the trials that did not contain artifacts, etc.).</li>
  <li>You can filter your ERP data with <a href="Filtering.html"><strong>ERPLAB &gt; Filter &amp; Frequency Tools</strong></a>.</li>
  <li>You can also create new/modified bins (e.g., difference waves) using <a href="Bin_Operations.html"><strong>ERPLAB &gt; ERP Operations &gt; ERP Bin Operations</strong></a> or new/modified channels (e.g., re-referenced channels) using <strong><a href="Channel_Operations.html">ERPLAB &gt; ERP Operations &gt; ERP Channel Operations</a></strong>.</li>
  <li>Plot the averaged ERP waveforms using <a href="Plot_ERP_Waveforms.html"><strong>ERPLAB &gt; Plot ERP Waveforms</strong></a> or plot topographic maps of voltage using <a href="Topographic_Mapping.html"><strong>ERPLAB &gt; Plot  ERP Scalp Maps</strong></a>.  These plots can be exported (in vector format) as PDF files, which can then be imported into and edited by a variety of illustration programs.</li>
  <li>Once you have done the above steps for each subject, creating a separate ERPset for each subject, you can create a grand average across subjects using <a href="Averaging_ERPsets.htm"><strong>ERPLAB &gt; Average Across ERPsets</strong></a>.  Note that you may want to process the first 1-3 subjects using the GUI and then write a script for processing subsequent subjects.  A history of the functions called by your GUI actions can be obtained by typing <strong>eegh </strong>or <strong>EEG.history</strong> and <strong>erph</strong> or <strong>ERP.history</strong> in the command window, and this can provide an excellent starting point for writing a script (see <a href="../scripting/index.html">scripting guide for more details</a>).</li>
  <li>Perform ERP measurements, such as mean amplitude and peak latency using <a href="ERP_Measurement_Tool.html"><strong>ERPLAB &gt; ERP Measurement Tool</strong></a>.  The measurements are saved in a text file in a manner that is easily imported by Excel or SPSS.</li>
</ul>
<p>&nbsp;</p>
<table width="100%" border="0">
  <tr>
    <td><a href="Learning_ERPLAB.html">&lt;&lt;Learning ERPLAB</a></td>
    <td><a href="index.html">Table of Contents</a></td>
    <td><a href="Background_and_Structures.html">Background Concepts and Structures&gt;&gt;</a></td>
  </tr>
</table>
</body>
</html>
