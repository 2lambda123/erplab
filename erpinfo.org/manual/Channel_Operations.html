<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>EEG and ERP Channel Operations</title>
<style type="text/css">
<!--
p.paragraph {
margin-top:0in;
margin-right:0in;
margin-bottom:8.0pt;
margin-left:0in;
font-size:11.0pt;
font-family:Cambria;
}
-->
</style>
<style type="text/css">
<!--
p.Note {
margin-top:0in;
margin-right:0in;
margin-bottom:8.0pt;
margin-left:0in;
font-size:11.0pt;
font-family:Cambria;
font-style:italic;
}
-->
</style>
<style type="text/css">
<!--
p.LiteralText {
margin:0in;
margin-bottom:.0001pt;
font-size:10.0pt;
font-family:Helvetica;
}
.tablesl {
	font-family: Arial, Helvetica, sans-serif;
}
.tablesl {
	font-size: 12px;
}
-->
</style>
<style type="text/css">
<!--
p.CommandWindowText {
margin:0in;
margin-bottom:.0001pt;
text-align:justify;
font-size:9.0pt;
font-family:Courier;
}
p.MsoNormal {
margin:0in;
margin-bottom:.0001pt;
font-size:12.0pt;
font-family:Cambria;
}
-->
</style>
</head>

<body>
<p class="paragraph">Just as bins can be created and modified with Bin Operations, channels can be created and modified with Channel Operations.  There are separate routines for doing this on the EEG data in a dataset (<strong>ERPLAB &gt; EEG Channel Operations</strong>) or on the ERP data in an ERPset (<strong>ERPLAB &gt; ERP Operations &gt; ERP Channel Operations</strong>), but these routines work in the same way.</p>
<p class="paragraph">For example, it is often convenient to compute bipolar channels from the monopolar channels in the EEG and apply artifact rejection to the bipolar channels.  For example, one might create a bipolar channel representing the difference between an electrode above the eyes and an electrode below the eyes, which makes it easier to detect blinks.  Alternatively, one might want to re-reference each channel to the average of all the channels (excluding the artifact channels).  The <strong>ERPLAB &gt; EEG Channel Operations</strong> function that makes these kinds of transformations easy.  </p>
<p class="paragraph">As illustrated in the screenshot below, simple equations are used to define how a channel should be computed from the current dataset or ERPset.  Imagine, for example, that you want to create a new bipolar VEOG channel by computing channel 32 minus channel 31.  If you had 32 channels of data originally, the new channel could be channel 33.  You would specify the new channel as &quot;ch33 = ch32 – ch31 label VEOG&quot;.  This says that ERPLAB should create a new channel 33, defined as channel 32 minus channel 31, and it should be labeled &quot;VEOG&quot;. It is also possible to precede the channels on the right side of the equals sign with coefficients.  For example, you could type &quot;ch33 = 0.5*ch31 + 0.5*ch32 label AVGCHAN&quot; – this would create a new channel 33 that is the average of channels 31 and 32, with the label &quot;AVGCHAN&quot;. </p>
<p class="paragraph">As in Bin Operations, the list of equations can be saved in a file.  In addition, Channel Operations can either modify the current ERPset/dataset or create a new ERPset/dataset.  The channels on the left side of the equals sign are labeled with &quot;ch&quot; or &quot;chan&quot; when you are modifying the current ERPset or dataset, and they are labeled with &quot;nch&quot; or &quot;newchan&quot; or &quot;nchan&quot; when you are creating a new ERPset.  When modifying the current ERPset/dataset, you may want to first make a duplicate and then operate on the duplicate.  For ERPsets, this can be done with <strong>ERPLAB &gt; Duplicate or rename current ERPset</strong>.  For datasets, you can save the current dataset to disk and then load it again with <strong>FILE &gt; Load existing dataset</strong>.  It is not necessary to operate on a duplicate, but it can make it easier for you to back up and try again if you make a mistake or change your mind.  This is not generally useful when you are creating a new ERPset/dataset, because the current ERPset/dataset is not changed in this mode.</p>
<p class="paragraph"><img src="../tutorial/images/tutorial_channel operations_1.png" width="805" height="411" /></p>
<p class="paragraph">The following are some examples of equations you might find useful.  If the data were recorded with A1 as the reference, and A2 was recorded with A1 as the reference in channel 15, you could re-reference the first few channels to the average of A1 and A2 by subtracting half of A2 from the other channels:</p>
<p class="LiteralText">Ch1 = ch1 – ch15/2 label F3</p>
<p class="LiteralText">Ch2 = ch2 – ch15/2 label F4</p>
<p class="LiteralText">Ch3 = ch3 – ch15/2 label C3</p>
<p class="LiteralText">Ch4 = ch4 – ch15/2 label C4</p>
<p class="LiteralText">&nbsp;</p>
<p class="paragraph">To subtract the average of electrodes 1-13 from the first few channels, you would do something like this:</p>
<p class="LiteralText">Nch1 = ch1 – avgchan(1:13) label F3</p>
<p class="LiteralText">Nch2 = ch2 – avgchan(1:13) label F4</p>
<p class="LiteralText">Nch3 = ch3 – avgchan(1:13) label C3</p>
<p class="LiteralText">Nch4 = ch4 – avgchan(1:13) label C4</p>
<p class="LiteralText">&nbsp;</p>
<p class="paragraph"><em>Important note: To use the average of all sites as the reference, you must use the &quot;Create new dataset (independent transformations)&quot; mode. If you use the &quot;Modify existing dataset (recursive updating)&quot; mode, then the average of all sites will change after each site has been created. That is, when you re-reference channel 1 to the average of all channels, everything will be fine; but when you then try to re-reference channel 2, the new re-referenced version of channel 1 would be used to compute the average of all channels, and that would be incorrect.</em></p>
<p class="paragraph">&nbsp;</p>
<p class="paragraph">If you have EMG data in channel 16, you could create a rectified version of the data in channel 17 as follows:</p>
<p class="LiteralText">Ch17 = abs(ch16) label Rect_EMG</p>
<p class="LiteralText">&nbsp;</p>
<p class="paragraph">To create a channel with the mean global field power of channels 1-13, you would do this (which works on ERPsets but not datasets):</p>
<p class="LiteralText">Ch14 = mgfperp(1:13) label MGFP</p>
<p class="LiteralText">&nbsp;</p>
<p class="paragraph">To create a channel with the mahalanobis distance between channels 1 and 2, you would do this:</p>
<p class="LiteralText">Ch17 = mahaleeg(ch1, ch2) label MAHAL</p>
<p class="LiteralText">                  </p>
<p class="paragraph">If you wanted to delete some of the channels, you have a few options.  First, you could use the mode in which you create a new ERPset/dataset, specifying the channels you wish to retain, as in the following example of the first few lines of a set of equations that would exclude channels 1 and 2 (F3 and F4):</p>
<p class="LiteralText">nch1 = ch3 label C3</p>
<p class="LiteralText">nch2 = ch4 label C4</p>
<p class="LiteralText">nch3 = ch3 label P3</p>
<p class="LiteralText">nch4 = ch4 label P4</p>
<p class="LiteralText">&nbsp;</p>
<p class="paragraph">Second, you can click the <strong>Remove Channel(s)</strong> button in the GUI (shown below) and enter the numbers of the channels you would like to delete.</p>
<p class="paragraph"><img src="../tutorial/images/tutorial_channel operations_2.png" width="222" height="114" /></p>
<p class="paragraph">Third, you could use the mode in which the current ERPset is modified directly, placing the following <u>at the end</u> of your list of equations (this works only for ERPsets):</p>
<p class="LiteralText">delerpchan([ 1 2 ])</p>
<p class="LiteralText">&nbsp;</p>
<p class="paragraph">To remove channels from the EEG in a dataset, you can also use the EEGLAB function <strong>Edit&gt;Select data&gt;channel range</strong> and click on <strong>remove these</strong>.</p>
<p class="paragraph"><strong>The Reference Assisstant</strong></p>
<p class="paragraph">Rereferencing your electrodes will require you to create an equation for each channel being re-referenced.  This could be a lot of equations.  To make life easier (and reduce typos), Channel Operations contains a <strong>Reference assisstant</strong> button that can create the equations for you.  You simply specify what you want subtracted away from each channel, and which channels should be re-referenced, and it will fill in the appropriate equations.  In the screenshot shown below,  &quot;.5*ch15&quot; will be subtracted from channels 1-13.  The reference assisstant does not do the re-referencing directly; it simply creates the equations for the re-referencing.  That way you can see exactly what it is doing and modify the process any way you'd like.</p>
<p class="paragraph"><img src="../tutorial/images/tutorial_channel operations_3.png" width="573" height="358" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table width="100%" border="0">
  <tr>
    <td><a href="Bin_Operations.html">&lt;&lt;ERP Bin Operations</a></td>
    <td><a href="index.html">Table of Contents</a></td>
    <td><a href="Filtering.html">Filtering&gt;&gt;</a></td>
  </tr>
</table>
</body>
</html>
