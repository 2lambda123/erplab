<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Assigning Events to Bins with BINLISTER</title>

<link href="styles/erplab.css" rel="stylesheet" type="text/css" />
<style type="text/css">
<!--
p.paragraph {
margin-top:0in;
margin-right:0in;
margin-bottom:8.0pt;
margin-left:0in;
font-size:11.0pt;
font-family:Cambria;
}
-->
</style>
<style type="text/css">
<!--
p.MsoNormal {
margin:0in;
margin-bottom:.0001pt;
font-size:12.0pt;
font-family:Cambria;
}
-->
</style>
<style type="text/css">
<!--
p.LiteralText {
margin:0in;
margin-bottom:.0001pt;
font-size:10.0pt;
font-family:Helvetica;
}
-->
</style>
<style type="text/css">
<!--
table.MsoNormalTable {
font-size:10.0pt;
font-family:Cambria;
}
-->
</style>
<style type="text/css">
<!--
p.CommandWindowText {
margin:0in;
margin-bottom:.0001pt;
text-align:justify;
font-size:9.0pt;
font-family:Courier;
}
-->
</style>
</head>

<body>
<p class="paragraph">The previous page described how you can assign events to bins when creating the EventList structure.  This is fine for extremely simple experiments, but it is insufficient for most real studies.  We will now consider how events are assigned to bins for typical studies using the BINLISTER routine (see the <a href="../manual/Binlister.html">BINLISTER section of the ERPLAB User's Manual</a> for more details and more sophisticated examples).</p>
<h2 style="margin-left:.55in;text-indent:-.55in;">A simple BINLISTER example </h2>
<p class="paragraph">To begin this example, select the &quot;S1_Chan_elist&quot; dataset that you created in the previous step. If you already added bins by using the Advanced options when you created the EventList, the old bins will get overwritten here (which is not a problem). </p>
<p class="paragraph">Now we are ready to start using BINLISTER. The general approach used by BINLISTER is as follows.  Using the Matlab editor, you will create a text file that provides an abstract description of the kinds of event sequences that should be assigned to each bin (e.g., event code 20 preceded by event code 51 or 52 and followed 200-1500 ms later by event code 101).  The abstract description for a given bin is called a <em>bin descriptor</em>, and the file containing the bin descriptors is called a <em>bin descriptor file</em>.  BINLISTER reads this file, and then scans the <strong>EVENTLIST</strong> structure.  Each event is compared with each of the bin descriptors.  If it matches one or more of the bin descriptors, the list of bins for that event is updated.</p>
<p class="paragraph">The first (and hardest) step is to create the bin descriptor file.  You can do this with Matlab's built-in text editor. Other text editors may insert hidden characters that can cause problems, so we recommend against using other text editors unless you really know what you're doing.</p>
<p class="paragraph">As a reminder, here is a table showing the stimulus event codes. The event codes for responses in this experiment indicated whether the response was correct (event code = 9) or incorrect (event code = 8) rather than directly indicating whether a left-hand or right-hand response was made.</p>
<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none;">
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Event Code</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-left:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Category</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-left:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Probability</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-left:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Correct Response</span></p></td>
  </tr>
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-top:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">11</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Letter</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Frequent</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Left Hand</span></p></td>
  </tr>
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-top:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">21</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Digit</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Rare</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Right Hand</span></p></td>
  </tr>
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-top:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">112</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Letter</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Rare</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Left Hand</span></p></td>
  </tr>
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-top:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">122</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Digit</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Frequent</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Right Hand</span></p></td>
  </tr>
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-top:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">12</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Letter</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Rare</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Right Hand</span></p></td>
  </tr>
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-top:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">22</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Digit</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Frequent</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Left Hand</span></p></td>
  </tr>
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-top:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">111</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Letter</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Frequent</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Right Hand</span></p></td>
  </tr>
  <tr>
    <td width="113" valign="top" style="width:112.5pt;border:solid black 1.0pt;border-top:none;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">121</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Digit</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Rare</span></p></td>
    <td width="113" valign="top" style="width:112.5pt;border-top:none;border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;"><p class="MsoNormal"><span style="font-family:Courier; font-size:10.0pt; ">Left Hand</span></p></td>
  </tr>
</table>
<p class="paragraph">&nbsp;</p>
<p class="paragraph">We will start with an example in which we collapse all the rare stimuli together into one bin (Bin 1) and all of the frequent stimuli together in a different bin (Bin 2).  And we'll include only trials in which the stimulus was followed by a correct response.  Here are the bin descriptors for these two bins.</p>
<p class="LiteralText">bin 1</p>
<p class="LiteralText">Frequent followed by correct response</p>
<p class="LiteralText">.{11;122;22;111}{9}</p>
<p class="LiteralText">&nbsp;</p>
<p class="LiteralText">bin 2</p>
<p class="LiteralText">Rare followed by correct response</p>
<p class="LiteralText">.{21;112;12;121}{9}</p>
<p class="LiteralText">&nbsp;</p>
<p class="paragraph">Each pair of curly brackets (&quot;{}&quot;) defines an <em>event list</em>, which specifies one or more events that must occur at a given sequential position.  The event list following the dot specifies the identity of the time-locking event, and the following event lists define the events that must follow the time-locking event. In Bin 1, for example, we are looking for any frequent stimulus (event codes 11, 122, 22, or 111) followed by a correct response event code (9).  Because the event list immediately after the dot contains the list of stimulus event codes, the stimulus event code will be the time-locking point.  In this example, response-locked averages could be specified by placing the dot after the stimulus event list and before the response event list (e.g., &quot;{11;122;22;111}.{9}&quot;).</p>
<p class="paragraph">Bins must be specified in order, beginning with Bin 1.  The line after the bin number is the <em>bin description</em>, and it is used to help you keep track of what is in each bin. </p>
<p class="paragraph">To try assigning events to bins, type the two bin descriptors shown above into a text file and save it as <strong>binlister_demo_1.txt</strong> (note: this file may already be present in the <strong>S1</strong> folder).  Then select <strong>ERPLAB &gt; Assign Bins (BINLISTER)</strong> (S1_Chan_elist should be the active dataset).  The window shown in the screenshot below will appear.  Load the bin descriptor file that you just created, and type &quot;test.txt&quot; into the name of the text file for writing the results.  Ordinarily you will not need to save the results to a text file, but this will help you see exactly how BINLISTER is working.  Now make sure that everything else is set as shown in the screenshot, and then click <strong>RUN</strong>. </p>
<p class="paragraph"><img src="images/tutorial_binlister_1.png" width="555" height="500" /></p>
<p class="paragraph">&nbsp;</p>
<p class="paragraph">BINLISTER will take some time to go through all of the events in the EventList and create a new EventList with the new bin assignments.  A new dataset will be created with the updated EventList.  If you open test.txt with Matlab's text editor, you will see how it assigned the stimulus events to Bin 1 or Bin 2.  For example, the first event code is a frequent stimulus and was therefore assigned to Bin 1.  The second event code is a response, and it was not assigned to any bins.  The third event code is a rare stimulus that was assigned to Bin 2.  Note that event #73 was a frequent stimulus, but it was followed by an event code 8 (an incorrect response), so it was not assigned to any bins.</p>
<div style="border:double windowtext 3.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;">
  <p class="paragraph" style="border:none;padding:0in;"><strong><span style="font-size:12.0pt; ">Equivalent Script Command:</span></strong></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%Loads binlister file from selected drive </span><span style="font-size:11.0pt; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%/Users/etfoo/Desktop/tutorial_script/binlister demo 1.txt</span><span style="font-size:11.0pt; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%Save file as test.txt</span><span style="font-size:11.0pt; color:forestgreen; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%Note that you will need to replace the path with the actual location in your file system</span><span style="font-size:11.0pt; color:forestgreen; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:black; ">EEG = pop_binlister( EEG,<span style="font-size:11.0pt; color:#A020F0; ">'BDF'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'/Users/etfoo/Desktop/tutorial_script/binlister demo 1.txt'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'ExportEL'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'/Users/etfoo/Documents/MATLAB/test.txt'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'ImportEL' </span>, <span style="font-size:11.0pt; color:#A020F0; ">'no'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'Saveas'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'on'</span></span>, <span style="font-size:11.0pt; color:#A020F0; ">'SendEL2'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'All'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'UpdateEEG'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'on'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'Warning'</span>,<span style="font-size:11.0pt; color:#A020F0; "> 'on'</span>)<span style="font-size:11.0pt; color:black; ">;</span> </p>
<p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%The following command uses Matlab's <em>Current Folder</em></span><em><span style="font-size:11.0pt; color:forestgreen; "> </span></em></p>
   <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:black; ">EEG = pop_binlister( EEG,<span style="font-size:11.0pt; color:#A020F0; ">'BDF'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'binlister demo 1.txt' </span>, <span style="font-size:11.0pt; color:#A020F0; ">'ExportEL' </span>, <span style="font-size:11.0pt; color:#A020F0; ">'test.txt'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'ImportEL'</span></span><span style="font-size:11.0pt; color:#A020F0;"></span>, <span style="font-size:11.0pt; color:#A020F0; ">'no'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'Saveas'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'on'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'SendEL2'</span>,<span style="font-size:11.0pt; color:#A020F0;"> 'All'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'UpdateEEG'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'on'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'Warning'</span>, <span style="font-size:11.0pt; color:#A020F0; ">'on'</span>)<span style="font-size:11.0pt; color:black; ">;</span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">% Type 'help pop_binlister' to see a description of all the parameters</span></p>
</div>
<p class="paragraph">&nbsp;</p>
<p class="paragraph">In the next steps, you will epoch the data, perform artifact detection, and create averaged ERPs for these two bins.</p>
<p class="paragraph">This is a very simple example, and BINLISTER can do much more sophisticated bin assignments. Once you've gone through the next few steps and gotten to the point of creating averaged ERPs, you might want to look at the page that described <a href="Binlister - Copy.html">more advanced BINLISTER examples</a>.</p>
<h2 style="margin-left:.55in;text-indent:-.55in;">&nbsp;</h2>
<p class="paragraph">&nbsp;</p>
<table width="100%" border="0">
  <tr>
    <td><a href="Create_Eventlist_Advanced.html">&lt;&lt;Advanced Create EventList</a><a href="Filtering.html"></a></td>
    <td><a href="index.html">Table of Contents</a></td>
    <td><a href="Bin_Epoch.html">Create Bin-Based Epochs&gt;&gt;</a><a href="Measurement_Tool.html"></a></td>
  </tr>
</table>
</body>
</html>
