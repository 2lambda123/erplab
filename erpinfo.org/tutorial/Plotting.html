<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Plotting Averaged ERP Waveforms</title>

<link href="styles/erplab.css" rel="stylesheet" type="text/css" />
<style type="text/css">
<!--
p.paragraph {
margin-top:0in;
margin-right:0in;
margin-bottom:8.0pt;
margin-left:0in;
font-size:11.0pt;
font-family:Cambria;
}
-->
</style>
<style type="text/css">
<!--
p.MsoNormal {
margin:0in;
margin-bottom:.0001pt;
font-size:12.0pt;
font-family:Cambria;
}
-->
</style>
<style type="text/css">
<!--
p.LiteralText {
margin:0in;
margin-bottom:.0001pt;
font-size:10.0pt;
font-family:Helvetica;
}
-->
</style>
<style type="text/css">
<!--
table.MsoNormalTable {
font-size:10.0pt;
font-family:Cambria;
}
-->
</style>
<style type="text/css">
<!--
p.CommandWindowText {
margin:0in;
margin-bottom:.0001pt;
text-align:justify;
font-size:9.0pt;
font-family:Courier;
}
-->
</style>
</head>

<body>
<p class="paragraph">Now that you have created an ERPset, you can look at its contents by selecting <strong>ERPLAB &gt; Plot ERP Waveforms</strong>, which brings up the window shown in the next screenshot.  The top half of the window allows you to specify what information to plot (bins, channels, etc.), and the bottom half allows you to control the details of the plotting (vertical scale, line width, font size, etc.).  The window will remember the settings from the last time you used it, but you can revert to the default settings by clicking the <strong>RESET VALUES</strong> button (e.g., when you want to plot a new ERPset that has a different epoch length, set of channels, etc.).</p>
<p class="paragraph"><em>Hint: Do not try to select a new ERPset while the plotting GUI window is open.  The plotting window only knows about the ERPset that was active when the window was first opened.  We will eventually change this window so that you can select among ERPsets from the plotting GUI.  For now, you must close the plotting GUI, select a new ERPset, and again select</em> <strong>ERPLAB &gt; Plot ERP Waveforms</strong>.</p>
<p class="paragraph"><img src="images/tutorial_plotting_1.png" width="638" height="435" /></p>
<p class="paragraph">&nbsp;</p>
<p class="paragraph">Click the <strong>PLOT</strong> button with the default values, and you should see a window pop up like the one shown below.  At present, ERPLAB will create a separate panel for each scalp site and overlay the selected channels.  In a future version, we will make this more flexible so that you can plot multiple ERPsets and choose which waveforms are overlaid and which waveforms are shown in different panels.  For now, you can save the waveforms in a PDF file (by clicking the <strong>PDF</strong> button), import them into a graphics program such as Adobe Illustrator, and then edit them. We recommend that you maximize the figure window before clicking the PDF button.   Alternatively, you can export the waveforms as text files using the <strong>ERPLAB &gt; Export ERP to Text</strong> routines and then read them into a program such as Excel or Deltagraph for plotting. </p>
<div style="border:double windowtext 3.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;">
  <p class="paragraph" style="border:none;padding:0in;"><strong><span style="font-size:12.0pt; ">Equivalent Script Command:</span></strong></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%Plotting Averaged ERP Waveform</span><span style="font-size:11.0pt; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%Bins to plot [1,2], Channels to plot [1:16], </span><span style="font-size:11.0pt; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%Pre Baseline Correction, Rows 4, Columns 4, Channels 10, Legends 10</span><span style="font-size:11.0pt; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%Line width 1, Time range [-200 798], </span><span style="font-size:11.0pt; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:black; ">pop_ploterps( ERP, [ 1, 2],1:16 , </span><span style="font-size:11.0pt; color:#A020F0; ">'AutoYlim'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'on'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'Axsize'</span><span style="font-size:11.0pt; color:black; ">, [ 0.05 0.08], </span><span style="font-size:11.0pt; color:#A020F0; ">'BinNum'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'on'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'Blc'</span><span style="font-size:11.0pt; color:black; ">,</span><span style="font-size:11.0pt; color:blue; "> </span><span style="font-size:11.0pt; color:#A020F0; ">'pre'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'Box'</span><span style="font-size:11.0pt; color:black; ">, [ 4 4], </span><span style="font-size:11.0pt; color:#A020F0; ">'ChLabel'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'on'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'FontSizeChan'</span><span style="font-size:11.0pt; color:black; ">,10, </span><span style="font-size:11.0pt; color:#A020F0; ">'FontSizeLeg'</span><span style="font-size:11.0pt; color:black; ">,10, </span><span style="font-size:11.0pt; color:#A020F0; ">'LegPos'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'bottom'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'Linespec', {'k-' , 'r-' }, 'LineWidth'</span><span style="font-size:11.0pt; color:black; ">,1,</span> <span style="font-size:11.0pt; color:#A020F0; ">'Maximize', 'on','Position'</span><span style="font-size:11.0pt; color:black; ">, [ 102.833 9.375 108.667 35.125], </span><span style="font-size:11.0pt; color:#A020F0; ">'Style'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'Matlab'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'xscale'</span><span style="font-size:11.0pt; color:black; ">,</span> <span style="font-size:11.0pt; color:black; ">[ -200.0 798.0 -100:170:750], </span><span style="font-size:11.0pt; color:#A020F0; ">'YDir'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'normal'</span><span style="font-size:11.0pt; color:black; ">, </span><span style="font-size:11.0pt; color:#A020F0; ">'yscale'</span><span style="font-size:11.0pt; color:black; ">, [ -10.0 10.0 -10:5:10] ); </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; ">&nbsp;</span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:forestgreen; ">%To plot bins 1 and 2, channels 1-16, with default parameters, use this: </span><span style="font-size:11.0pt; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; color:black; ">pop_ploterps( ERP, [ 1, 2],1:16); </span><span style="font-size:11.0pt; "> </span></p>
  <p class="MsoNormal" style="text-autospace:none;border:none;padding:0in;"><span style="font-size:11.0pt; ">&nbsp;</span></p>
</div>
<p class="paragraph">&nbsp;</p>
<p><img src="images/ploterps2.jpg" alt="ploterps2" width="712" height="685" border="1" /></p>
<h2 style="margin-left:.55in;text-indent:-.55in;">Including or excluding the toolbar on the figure</h2>
<p class="paragraph">Note that, when <strong>Include Toolbar on Figure</strong> is checked in the plotting GUI, ERPLAB uses a standard Matlab plotting routine that provides a set of menus and a toolbar in the plotting window.  Play around with it and you should be able to figure out how it works.  Perhaps the most useful tool is the measurement tool (the icon with the small plus mark), which allows you to click on the waveform and see the X and Y values (time and voltage) at that point on the waveform.  In addition, this mode allows you to click on one of the panels (e.g., the panel for the Cz electrode site), which will pop up a new window showing an expanded version of that panel, as shown in the screenshot below.</p>
<p><img src="images/ploterps3.jpg" alt="ploterps3" width="562" height="495" border="1" /></p>
<p class="paragraph">If <strong>Interactive plot window</strong> is not checked, then these features are not present.  In this mode, however, the X axis is plotted at zero microvolts rather than at the bottom of each panel, which is the appropriate way to plot the waveforms for publications and formal presentations.  Try plotting the data again with <strong>Interactive plot window </strong>unchecked; the result should look like the screenshot below.</p>
<p><img src="images/ploterps4.jpg" alt="ploterps4" width="562" height="435" border="1" /></p>
<h2 style="margin-left:.55in;text-indent:-.55in;">Other plotting examples</h2>
<p class="paragraph">There are many things you can do with the Plotting Waveform GUI. For example, you could plot a single column with multiple channels. For example, set<strong> Channels to plot</strong> to <strong>1:4</strong>, set <strong>Row(s)</strong> to <strong>4</strong>, and set <strong>Column(s)</strong> to <strong>1</strong>. You will see something like this:</p>
<p><span class="paragraph"><img src="images/ploterps5.jpg" alt="ploterps5" width="502" height="440" border="1" /></span></p>
<p class="paragraph">Also, try checking the <strong>Topographic</strong> checkbox to create something like the following screenshot.  There are <strong>w</strong> (width) and <strong>h</strong> (height) parameters that you can used to adjust the width and height of each waveform within the figure. </p>
<p><img src="images/ploterps6.jpg" alt="ploterps6" width="577" height="470" border="1" /></p>
<h2 style="margin-left:.55in;text-indent:-.55in;">Plotting multiple ERPsets in the same window</h2>
<p class="paragraph">At present, it is possible to overlay the waveforms from different bins within the same ERPset, but there is no way to overlay the waveforms from different ERPsets (e.g., overlaying grand averages for two groups of subjects, with each group's grand average waveforms in a separate ERPset).  To accomplish this, you can append the bins from one ERPset onto the end of the other ERPset using <strong>ERPLAB &gt; Append ERPsets</strong>.  The data from both ERPsets will then be separate bins in a single ERPset, making it possible to plot them. </p>
<p>&nbsp;</p>
<table width="100%" border="0">
  <tr>
    <td><a href="averaging.html">&lt;&lt;Averaging</a><a href="Background.html"></a></td>
    <td><a href="index.html">Table of Contents</a></td>
    <td><a href="Filtering.html">Filtering&gt;&gt;</a></td>
  </tr>
</table>
</body>
</html>
